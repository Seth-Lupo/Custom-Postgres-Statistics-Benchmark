<!--
PostgreSQL Statistics Estimator - Experiment Configuration Section Component

This template partial displays detailed configuration information for an experiment.
It shows configuration details, modification status, and provides access to view
the full configuration YAML.

Variables Expected:
- experiment: Experiment object with configuration data

Author: Generated by Assistant
Created: 2024
-->

{% if experiment.config_name or experiment.config_yaml %}
<!-- Configuration Section -->
<div class="card shadow-sm mb-4">
    <div class="card-header bg-white py-3">
        <div class="d-flex align-items-center justify-content-between">
            <div class="d-flex align-items-center">
                <i class="bi bi-gear me-2 text-primary"></i>
                <h5 class="card-title mb-0">Configuration Details</h5>
            </div>
            <button type="button" class="btn btn-outline-primary" onclick="showConfigurationModal()">
                <i class="bi bi-eye me-1"></i>
                View Configuration
            </button>
        </div>
    </div>
    <div class="card-body">
        <div class="row">
            <!-- Configuration Name -->
            <div class="col-md-6">
                <div class="mb-3">
                    <label class="form-label small text-muted">Configuration Name</label>
                    <div class="p-2 bg-light rounded">
                        <span class="badge bg-primary me-2">{{ experiment.config_name or 'default' }}</span>
                        <span class="text-muted">{{ experiment.stats_source }}</span>
                    </div>
                </div>
            </div>
            
            <!-- Configuration Type -->
            <div class="col-md-2">
                <div class="mb-3">
                    <label class="form-label small text-muted">Configuration Type</label>
                    <div class="p-2 bg-light rounded">
                        {% if experiment.config_yaml and not experiment.config_modified %}
                            <span class="badge bg-success">
                                <i class="bi bi-check-circle me-1"></i>
                                Unchanged
                            </span>
                        {% elif experiment.config_yaml and experiment.config_modified %}
                            <span class="badge bg-warning">
                                <i class="bi bi-pencil-square me-1"></i>
                                Modified
                            </span>
                        {% elif experiment.config_yaml %}
                            <span class="badge bg-info">
                                <i class="bi bi-file-earmark-code me-1"></i>
                                Custom
                            </span>
                        {% else %}
                            <span class="badge bg-secondary">
                                <i class="bi bi-gear me-1"></i>
                                Default
                            </span>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Configuration Modified Alert -->
        {% if experiment.config_modified and experiment.config_modified_at %}
        <div class="row">
            <div class="col-12">
                <div class="alert alert-warning">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Configuration Modified:</strong> This experiment used a modified configuration.
                    <br><small class="text-muted">Modified at: {{ experiment.config_modified_at.strftime('%Y-%m-%d %H:%M:%S') }} UTC</small>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endif %} 